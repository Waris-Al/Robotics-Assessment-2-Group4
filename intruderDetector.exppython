{"mode":"Text","hardwareTarget":"brain","textContent":"#region VEXcode Generated Robot Configuration\nfrom vex import *\nimport urandom\n\n# Brain should be defined by default\nbrain = Brain()\n\n# Robot configuration code\nbrain_inertial = Inertial()\nmotionSensor = Distance(Ports.PORT1)\nmotor_6 = Motor(Ports.PORT6, True)\ncaptureImageSignal = DigitalOut(brain.three_wire_port.a)\nstopAlarmButton = DigitalIn(brain.three_wire_port.b)\n\n\n# Wait for sensor(s) to fully initialize\nwait(100, MSEC)\n\n# generating and setting random seed\ndef initializeRandomSeed():\n    wait(100, MSEC)\n    xaxis = brain_inertial.acceleration(XAXIS) * 1000\n    yaxis = brain_inertial.acceleration(YAXIS) * 1000\n    zaxis = brain_inertial.acceleration(ZAXIS) * 1000\n    systemTime = brain.timer.system() * 100\n    urandom.seed(int(xaxis + yaxis + zaxis + systemTime)) \n\n# Initialize random seed \ninitializeRandomSeed()\n\n#endregion VEXcode Generated Robot Configuration\n\nmotor_6.set_velocity(3, PERCENT)\n\ndef intruderDetector():\n    spinCounter = 0\n    noIntruder = True\n    intruderFound = False\n    forwardDirection = True\n    motor_6.spin_for(FORWARD, 90, DEGREES)\n\n    while noIntruder:\n\n        #It takes 16 turns to turn a full 180 degrees\n        #To avoid the wires getting tied up, we switch direction after, as this will still encapsulate 360 degrees\n        if spinCounter % 9 == 0:\n            if forwardDirection:\n                forwardDirection = False\n            else:\n                forwardDirection = True\n\n        wait(0.5, SECONDS)\n        \n\n        if forwardDirection:\n            motor_6.spin_for(FORWARD, 22, DEGREES)\n        else:\n            motor_6.spin_for(REVERSE, 22, DEGREES)\n\n        wait(0.5, SECONDS)\n        motor_6.stop()\n\n        \n\n        spinCounter = spinCounter + 1\n\n        \n        if motionSensor.object_distance(MM) < 200:\n            captureImageSignal.set(True) #Sends a signal to the raspberry pi, which will then run the image capture script\n            brain.screen.print(\"Intruder\")\n            brain.screen.next_row()\n            brain.screen.print(\"Detected\")\n            wait(30, SECONDS) #Whilst video is being taken\n            captureImageSignal.set(False) #reset\n            brain.screen.clear_screen()\n            brain.screen.set_cursor(1,1)\n            \n        else:\n            captureImageSignal.set(False) #This ensures that the script isn't run accidentally \n\n    pass\n\nintruderDetector()\n","textLanguage":"python","robotConfig":[{"port":[1],"name":"motionSensor","customName":true,"deviceType":"Distance","deviceClass":"distance","setting":{},"triportSourcePort":22},{"port":[6],"name":"motor_6","customName":false,"deviceType":"Motor","deviceClass":"motor","setting":{"reversed":"true","fwd":"forward","rev":"reverse"},"triportSourcePort":22},{"port":[1],"name":"captureImageSignal","customName":true,"deviceType":"DigitalOut","deviceClass":"digital_out","setting":{},"triportSourcePort":22},{"port":[2],"name":"stopAlarmButton","customName":true,"deviceType":"DigitalIn","deviceClass":"digital_in","setting":{},"triportSourcePort":22}],"slot":0,"platform":"EXP","sdkVersion":"20240802.15.00.00","appVersion":"4.0.8","fileFormat":"2.0.0","targetBrainGen":"First","v5SoundsEnabled":false}